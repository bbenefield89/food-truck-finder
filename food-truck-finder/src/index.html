<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<html lang='en'>
<head>
<title>
My Google Map
</title>
<style>
    #map{
        height: 400px;
        width: 100%;
    }
</style>
</head>
<body>
    <h1>Your favorite food trucks!</h1>
    <div id="map"></div>
    <script>
        function initMap(){
            //map options
            var options = {
                zoom: 10,
                center: {lat: 37.784425, lng: -122.4057701}
            }
            //new map
            var map = new google.maps.Map(document.getElementById('map'), options);

            //markers
            let markers = [
                {coords: {lat: 37.7955, lng: -122.4183},
                iconImage: '/Users/sagardesai/Documents/Personal/Learning/LambdaSchool/cs10/food-truck-finder/food-truck-finder/src/sf-extension.png',
                content: '<h1>SF, CA</h1>'},
                {coords: {lat: 37.8955, lng: -122.3183},
                content: '<h1>Oakland, CA</h1>'},
                {coords: {lat: 37.6955, lng: -122.2183},
                content: '<h1>Berkeley, CA</h1>'}
            ]
           
            //loop through markers
            for(let i = 0; i < markers.length; i++){
                addMarker(markers[i]);
            }

            //add market function
           function addMarker(props){
                let marker = new google.maps.Marker({
                    position: props.coords,
                    map: map,
                    // icon: props.iconImage
                });
                console.log(props.coords);
                if(props.iconImage){
                    marker.setIcon(props.iconImage);
                }
                if(props.content){
                    let infoWindow = new google.maps.InfoWindow({
                        content: props.content
                    })
                    marker.addListener('click', function(){
                        infoWindow.open(map, marker);
                    });
                }
           }
        }
    </script>
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDCyXt35OKilVBrqDTkNHWFVUVyWryRqPA&callback=initMap">
        </script>
        
</body>
</html>